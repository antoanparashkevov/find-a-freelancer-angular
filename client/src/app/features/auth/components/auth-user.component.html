<app-shared-dialog [show]='!!error' title='Failed to authenticate' (close)='handleError()'>
    <p *ngIf="error && error !== undefined && error.message !== null">{{error.message || 'An error occurred'}}</p>
</app-shared-dialog>
<app-shared-dialog [fixed]="true" [show]='isLoading' title='Loading...'>
    <app-shared-spinner></app-shared-spinner>
</app-shared-dialog>
<app-shared-card>
    <form (ngSubmit)="onSubmit(formRef, emailRef, passwordRef)" #formRef="ngForm">
        <div class='form-control'>
            <label for='email' [ngClass]="{invalid_field: emailRef.invalid && emailRef.touched}">E-mail</label>
            <input type='email' id='email' name="email" ngModel #emailRef="ngModel" required email>
        </div>
        <div class='form-control'>
            <label for='password' [ngClass]="{invalid_field: passwordRef.invalid && passwordRef.touched}">Password</label>
            <input type='password' id='password' name="password" ngModel #passwordRef="ngModel" required minlength="6">
        </div>
<!--        <p class='error' *ngIf="!formIsValid && error === null">Please enter a valid credentials</p>-->
        <button type="submit" [disabled]="formRef.invalid">{{ submitButtonCaption() }}</button>
        <button type="button" (click)='switchAuthMode()'>{{ switchModeCaption() }}</button>
    </form>
</app-shared-card>
